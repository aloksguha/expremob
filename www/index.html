<!doctype html>
<html>

<head>

    <title>Login</title>

    <!--<meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">-->
    <meta name="viewport" content="user-scalable=no, initial-scale=2, maximum-scale=2, minimum-scale=1, width=device-width, height=device-height" />

    <!--<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">-->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <script data-main="require-config" src="lib/require.js"></script>
    <script src="lib/polymer/components/platform/platform.js"></script>
    <link rel="import" href="lib/polymer/components/polymer/polymer.html">

    <link rel="import" href="lib/polymer/components/font-roboto/roboto.html">
    <link rel="import"
          href="lib/polymer/components/core-header-panel/core-header-panel.html">
    <link rel="import"
          href="lib/polymer/components/core-toolbar/core-toolbar.html">
    <!--<link rel="import"-->
          <!--href="./lib/polymer/components/paper-tabs/paper-tabs.html">-->
    <link rel="import" href="lib/polymer/components/paper-input/paper-input.html">
    <link rel="import" href="lib/polymer/components/paper-button/paper-button.html">
    <link rel="import" href="lib/polymer/components/core-ajax/core-ajax.html">

    <script src="js/login.js"></script>




    <style>
        html,body {
            height: 100%;
            margin: 0;
            background-color: #E5E5E5;
            font-family: 'RobotoDraft', sans-serif;
        }
        core-header-panel {
            height: 100%;
            overflow: auto;
            -webkit-overflow-scrolling: touch;
        }
        core-toolbar {
            background: #000000;
            color: white;
        }
        #tabs {
            width: 100%;
            margin: 0;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            text-transform: uppercase;
        }
        .container {
            width: 80%;
            margin: 50px auto;
        }
        @media (min-width: 481px) {
            #tabs {
                width: 200px;
            }
            .container {
                width: 400px;
            }
        }
        paper-button[raisedButton].colored {
            background: #f44a4a;
            color: #fff;
        }
    </style>

</head>

<body unresolved>
<core-header-panel>

    <core-toolbar>
        <div style="width: 100%; height: auto; text-align: center">
       <img src="img/expressoLogo.jpg"></div>
    </core-toolbar>
    <div align="center" id="mainAppDiv" style="overflow: auto">
    <br><br><br><br><br>
    <paper-input label="Email" type="text"  id="userId" style="text-align: left" required></paper-input>
    <paper-input label="Password" type="password" id="userpassword"  style="text-align: left" required></paper-input><br>
    <paper-button raisedButton class="colored" label="Start Brewing" onclick="loginMock()"></paper-button>
    </div>

    <core-ajax id="ajax"
               url="http://http://10.97.102.113:36136/system/login"
               headers='{"X-Requested-With": "XMLHttpRequest"}'
               contentType="application/json"
               method="post">
    </core-ajax>



</core-header-panel>

<script>
  function loginMock(){
      var userID = document.getElementById('userId');
      var password = document.getElementById('userpassword');

//      if(userID.value === "test" && password.value === "test"){
//          window.location = "application.html"
//      }
      var loginObj = {};
      loginObj.user =   userID.value;
      loginObj.password = password.value;

      if(loginObj.user === "a" && loginObj.password === "a"){
          window.location = "application.html?token="+data.oauthToken;
      }
   //   console.log(loginObj)
//
//
//
//      console.log(loginObj);
//
//      var ajax = document.querySelector('core-ajax');
//      ajax.body = loginObj;
//      ajax.addEventListener("core-response",
//              function(e) {
//                  console.log(e)
//                  var data = e;
//                  alert(data);
//                  //window.location = "application.html?token="+data.oauthToken;
//              }
//      );
//     ajax.go();
  }
</script>

</body>

</html>
